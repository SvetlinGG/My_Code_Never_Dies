.bats-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 500;
  overflow: hidden;
}

.bat {
  position: absolute;
  width: 60px;
  height: 30px;
  opacity: 0;
  animation: flyAcross 20s ease-in-out infinite;
  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.6));
}

.bat-svg {
  width: 100%;
  height: 100%;
}

.wing {
  transform-origin: center;
  animation: flapWings 0.3s ease-in-out infinite;
}

.left-wing {
  animation-name: flapLeftWing;
}

.right-wing {
  animation-name: flapRightWing;
}

@keyframes flapLeftWing {
  0%, 100% {
    transform: rotateY(0deg) translateX(0);
  }
  50% {
    transform: rotateY(-25deg) translateX(-3px);
  }
}

@keyframes flapRightWing {
  0%, 100% {
    transform: rotateY(0deg) translateX(0);
  }
  50% {
    transform: rotateY(25deg) translateX(3px);
  }
}

@keyframes flyAcross {
  0% {
    left: -8%;
    top: 5%;
    opacity: 0;
    transform: scale(0.6) rotate(-15deg) translateY(0);
  }
  3% {
    opacity: 0.8;
  }
  8% {
    top: 12%;
    transform: scale(0.7) rotate(-8deg) translateY(-5px);
  }
  12% {
    top: 18%;
    transform: scale(0.75) rotate(3deg) translateY(8px);
  }
  18% {
    top: 10%;
    transform: scale(0.8) rotate(-12deg) translateY(-10px);
  }
  24% {
    top: 22%;
    transform: scale(0.85) rotate(6deg) translateY(12px);
  }
  30% {
    top: 15%;
    transform: scale(0.9) rotate(-5deg) translateY(-8px);
  }
  36% {
    top: 28%;
    transform: scale(0.95) rotate(10deg) translateY(15px);
  }
  42% {
    top: 20%;
    transform: scale(1) rotate(-7deg) translateY(-6px);
  }
  48% {
    top: 32%;
    transform: scale(1.05) rotate(8deg) translateY(18px);
  }
  54% {
    top: 25%;
    transform: scale(1) rotate(-10deg) translateY(-12px);
  }
  60% {
    top: 35%;
    transform: scale(0.95) rotate(5deg) translateY(20px);
  }
  66% {
    top: 28%;
    transform: scale(0.9) rotate(-8deg) translateY(-10px);
  }
  72% {
    top: 38%;
    transform: scale(0.85) rotate(12deg) translateY(15px);
  }
  78% {
    top: 30%;
    transform: scale(0.8) rotate(-6deg) translateY(-8px);
  }
  84% {
    top: 40%;
    transform: scale(0.75) rotate(9deg) translateY(12px);
  }
  90% {
    top: 35%;
    transform: scale(0.7) rotate(-11deg) translateY(-5px);
  }
  96% {
    opacity: 0.8;
  }
  100% {
    left: 108%;
    top: 25%;
    opacity: 0;
    transform: scale(0.6) rotate(15deg) translateY(0);
  }
}

.bat:nth-child(1) {
  animation-duration: 25s;
  width: 50px;
  height: 25px;
}

.bat:nth-child(1) .wing {
  animation-duration: 0.25s;
}

.bat:nth-child(2) {
  animation-duration: 18s;
  width: 70px;
  height: 35px;
}

.bat:nth-child(2) .wing {
  animation-duration: 0.35s;
}

.bat:nth-child(3) {
  animation-duration: 22s;
  width: 55px;
  height: 28px;
}

.bat:nth-child(3) .wing {
  animation-duration: 0.28s;
}

.bat:nth-child(4) {
  animation-duration: 20s;
  width: 65px;
  height: 32px;
}

.bat:nth-child(4) .wing {
  animation-duration: 0.32s;
}

.bat:nth-child(5) {
  animation-duration: 24s;
  width: 58px;
  height: 29px;
}

.bat:nth-child(5) .wing {
  animation-duration: 0.29s;
}

.bat:nth-child(6) {
  animation-duration: 21s;
  width: 62px;
  height: 31px;
}

.bat:nth-child(6) .wing {
  animation-duration: 0.3s;
}

.bat:nth-child(7) {
  animation-duration: 23s;
  width: 56px;
  height: 28px;
}

.bat:nth-child(7) .wing {
  animation-duration: 0.27s;
}

/* Attack bats - fly towards user */
.bat-attack {
  animation-name: attackUser !important;
  animation-duration: 3s !important;
}

.bat-attack .wing {
  animation-duration: 0.15s !important;
}

.bat-eye {
  animation: glowEyes 0.3s ease-in-out infinite;
}

@keyframes glowEyes {
  0%, 100% {
    opacity: 1;
    filter: drop-shadow(0 0 2px #ff0000);
  }
  50% {
    opacity: 0.6;
    filter: drop-shadow(0 0 4px #ff0000);
  }
}

@keyframes attackUser {
  0% {
    left: 50%;
    top: -10%;
    opacity: 0;
    transform: translate(-50%, 0) scale(0.3) rotate(0deg);
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.6));
  }
  10% {
    opacity: 1;
    transform: translate(-50%, 0) scale(0.4) rotate(-5deg);
  }
  20% {
    left: 48%;
    top: 10%;
    transform: translate(-50%, 0) scale(0.6) rotate(3deg);
  }
  30% {
    left: 52%;
    top: 20%;
    transform: translate(-50%, 0) scale(0.9) rotate(-4deg);
  }
  40% {
    left: 49%;
    top: 30%;
    transform: translate(-50%, 0) scale(1.3) rotate(2deg);
  }
  50% {
    left: 51%;
    top: 40%;
    transform: translate(-50%, 0) scale(1.8) rotate(-3deg);
  }
  60% {
    left: 50%;
    top: 50%;
    transform: translate(-50%, 0) scale(2.5) rotate(1deg);
  }
  70% {
    left: 50%;
    top: 55%;
    transform: translate(-50%, 0) scale(3.5) rotate(-2deg);
    filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.8));
  }
  80% {
    opacity: 1;
    transform: translate(-50%, 0) scale(5) rotate(0deg);
    filter: drop-shadow(0 15px 50px rgba(0, 0, 0, 0.9));
  }
  90% {
    opacity: 0.7;
    transform: translate(-50%, 0) scale(7) rotate(0deg);
  }
  100% {
    left: 50%;
    top: 60%;
    opacity: 0;
    transform: translate(-50%, 0) scale(10) rotate(0deg);
    filter: drop-shadow(0 20px 80px rgba(0, 0, 0, 1));
  }
}

/* Disable on mobile for performance */
@media (max-width: 768px) {
  .bat {
    display: none;
  }
}
